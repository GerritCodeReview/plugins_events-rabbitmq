{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "15005a7b_0d9c84f5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2025-03-04T06:45:56Z",
      "side": 1,
      "message": "nit: \"make it possible **to** set\"",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 20
      },
      "revId": "0f514d1025f46e58dd711ea6ee786d029795e35f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1335cb81_73249719",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1135623
      },
      "writtenOn": "2025-03-07T13:07:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "15005a7b_0d9c84f5",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 20
      },
      "revId": "0f514d1025f46e58dd711ea6ee786d029795e35f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6fb240d_114afe3d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/rabbitmq/config/section/AMQP.java",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2025-03-04T06:45:56Z",
      "side": 1,
      "message": "```suggestion\n\n  @Default public String queueType;\n  \n  default public Map\u003cString, Object\u003e queueProperties() {\n    if (queuetype.isEmpty()) {\n      return null;\n    }\n    return Map.of(\"x-queue-type\", amqp.queueType);\n  }\n```",
      "range": {
        "startLine": 43,
        "startChar": 0,
        "endLine": 44,
        "endChar": 35
      },
      "revId": "0f514d1025f46e58dd711ea6ee786d029795e35f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f29c74c_8064b5e9",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/rabbitmq/session/type/AMQPSubscriberSession.java",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2025-03-04T06:45:56Z",
      "side": 1,
      "message": "For readability it would make sense to instead expose the QueueProperties Map directly from `AMQP`.\n\n```suggestion\n          channel.queueDeclare(queueName, amqp.durable, amqp.exclusive, amqp.autoDelete, amqp.queueProperties());\n```",
      "range": {
        "startLine": 82,
        "startChar": 0,
        "endLine": 87,
        "endChar": 94
      },
      "revId": "0f514d1025f46e58dd711ea6ee786d029795e35f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d392fb9_c495422f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/rabbitmq/session/type/AMQPSubscriberSession.java",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1135623
      },
      "writtenOn": "2025-03-07T13:07:19Z",
      "side": 1,
      "message": "If we filled the map with more values than \"x-queue-type\" or this logic was needed somewhere else I feel like your approach would be the better one, but in this case I think the current solution is the better one. \nIt is clear that the fifth argument of queueDeclare is for setting the queuetype without having to read a different file.",
      "parentUuid": "0f29c74c_8064b5e9",
      "range": {
        "startLine": 82,
        "startChar": 0,
        "endLine": 87,
        "endChar": 94
      },
      "revId": "0f514d1025f46e58dd711ea6ee786d029795e35f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab6d9ec2_a5786948",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/rabbitmq/session/type/AMQPSubscriberSession.java",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2025-03-10T06:40:34Z",
      "side": 1,
      "message": "My argument is not mainly about reuse but about readability.\nI think creating the properties map in this class makes the logic less readable and creating it in the Properties class has no negative consequences.",
      "parentUuid": "2d392fb9_c495422f",
      "range": {
        "startLine": 82,
        "startChar": 0,
        "endLine": 87,
        "endChar": 94
      },
      "revId": "0f514d1025f46e58dd711ea6ee786d029795e35f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f27b0024_d91dddce",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/rabbitmq/session/type/AMQPSubscriberSession.java",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1135623
      },
      "writtenOn": "2025-03-10T09:15:16Z",
      "side": 1,
      "message": "I think the readability is fine as it is. Creating it in the properties class has the disadvantage that I as a reader need to open a different file to see what queueProperties do/return, with the logic inline I can see that the \"x-queue-type\" value is set directly.\n```suggestion\n          Map\u003cString, Object\u003e arg \u003d\n              !amqp.queueType.isEmpty() ? Map.of(\"x-queue-type\", amqp.queueType) : null;\n\n```\nDo you think this suggestion is better?\nI prefer to keep the logic in AMQPSubscriberSession.",
      "parentUuid": "ab6d9ec2_a5786948",
      "range": {
        "startLine": 82,
        "startChar": 0,
        "endLine": 87,
        "endChar": 94
      },
      "revId": "0f514d1025f46e58dd711ea6ee786d029795e35f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}